

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>LuckyClient &mdash; LuckyLoop 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Device" href="application.html" />
    <link rel="prev" title="Welcome to LuckyLoop’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> LuckyLoop
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">LuckyClient:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">LuckyClient</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#python-api">Python API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mockserver">MockServer</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">LuckyLoop:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="application.html">Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="application.html#architecture">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="application.html#elements">Elements</a></li>
</ul>
<p class="caption"><span class="caption-text">Building:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="build.html">Local Compilation</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html#cross-compilation">Cross Compilation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">LuckyLoop</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>LuckyClient</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/client.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="luckyclient">
<h1>LuckyClient<a class="headerlink" href="#luckyclient" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://nc-loop.github.io/_htmlcov/index.html">Coverage Report</a></p>
<span class="target" id="module-luckyloop.client"></span><div class="section" id="python-api">
<h2>Python API<a class="headerlink" href="#python-api" title="Permalink to this headline">¶</a></h2>
<p>LuckyClient is the python interface to remote control LuckyLoop over TCP/IP</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">luckyloop.client</span> <span class="kn">import</span> <span class="n">LuckyClient</span>

<span class="n">lucky</span> <span class="o">=</span> <span class="n">LuckyClient</span><span class="p">()</span>
<span class="n">lucky</span><span class="o">.</span><span class="n">frequency</span> <span class="o">=</span> <span class="mi">20</span>  <span class="n">sets</span> <span class="n">the</span> <span class="n">target</span> <span class="n">frequency</span> <span class="n">to</span> <span class="mi">20</span>
<span class="n">lucky</span><span class="o">.</span><span class="n">phase</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1"># sets the target phase to 2</span>
<span class="n">lucky</span><span class="o">.</span><span class="n">trigger</span><span class="p">()</span>
<span class="c1"># triggers as soon as the target phase for the target frequency is met</span>
</pre></div>
</div>
</div></blockquote>
<dl class="py class">
<dt id="luckyloop.client.LuckyClient">
<em class="property">class </em><code class="sig-name descname">LuckyClient</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">host</span><span class="o">=</span><span class="default_value">'127.0.0.1'</span></em>, <em class="sig-param"><span class="n">port</span><span class="o">=</span><span class="default_value">1219</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luckyloop/client.html#LuckyClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#luckyloop.client.LuckyClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to remote control the LuckyLoop</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<em>str</em>) – defaults to 127.0.0.1, but should be set in production to the ip-adress of the LuckyLoop device</p></li>
<li><p><strong>port</strong> (<em>int</em>) – defaults to 1219 because LuckyServer has the acronym LS and L is 12th character in alphabet and S is the 19th.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For safety reasons, parameters like target frequency and phase are not set during initialization of the client, as this could interrupt an ongoing process on LuckyLoop when an user tries to reconnect. All parameters have be set explicitly after initialization.</p>
</div>
<dl class="py method">
<dt id="luckyloop.client.LuckyClient.enquire">
<code class="sig-name descname">enquire</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/luckyloop/client.html#LuckyClient.enquire"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#luckyloop.client.LuckyClient.enquire" title="Permalink to this definition">¶</a></dt>
<dd><p>enquire about the current status and version of LuckyLoop</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="luckyloop.client.LuckyClient.frequency">
<em class="property">property </em><code class="sig-name descname">frequency</code><a class="headerlink" href="#luckyloop.client.LuckyClient.frequency" title="Permalink to this definition">¶</a></dt>
<dd><p>The frequency for which LuckyLoop calculates phase and power</p>
<p>LuckyLoop calculates phase and amplitude continually for a specific frequency. Change this target_frequency</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target_frequency</strong> – an integer of at least 1 Hz</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="luckyloop.client.LuckyClient.phase">
<em class="property">property </em><code class="sig-name descname">phase</code><a class="headerlink" href="#luckyloop.client.LuckyClient.phase" title="Permalink to this definition">¶</a></dt>
<dd><p>the phase at which LuckyLoop triggers.</p>
<p>set the corresponding target frequency with <a class="reference internal" href="#luckyloop.client.LuckyClient.frequency" title="luckyloop.client.LuckyClient.frequency"><code class="xref py py-meth docutils literal notranslate"><span class="pre">frequency()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target_phase</strong> – an integer between -180 and +180</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="luckyloop.client.LuckyClient.query">
<code class="sig-name descname">query</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luckyloop/client.html#LuckyClient.query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#luckyloop.client.LuckyClient.query" title="Permalink to this definition">¶</a></dt>
<dd><p>send and receive a message to LuckyLoop</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="luckyloop.client.LuckyClient.session_id">
<em class="property">property </em><code class="sig-name descname">session_id</code><a class="headerlink" href="#luckyloop.client.LuckyClient.session_id" title="Permalink to this definition">¶</a></dt>
<dd><p>the lsl session ID</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>session_ID</strong> – an string with less than 50 characters</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="luckyloop.client.LuckyClient.shutdown">
<code class="sig-name descname">shutdown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/luckyloop/client.html#LuckyClient.shutdown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#luckyloop.client.LuckyClient.shutdown" title="Permalink to this definition">¶</a></dt>
<dd><p>shuts LuckyLoop down gracefully</p>
</dd></dl>

<dl class="py method">
<dt id="luckyloop.client.LuckyClient.threshold">
<em class="property">property </em><code class="sig-name descname">threshold</code><a class="headerlink" href="#luckyloop.client.LuckyClient.threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>the power threshold for which LuckyLoop would trigger</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>threshold</strong> – an integer larger or equal to 0</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently not being used by LuckyLoop</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="luckyloop.client.LuckyClient.trigger">
<code class="sig-name descname">trigger</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/luckyloop/client.html#LuckyClient.trigger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#luckyloop.client.LuckyClient.trigger" title="Permalink to this definition">¶</a></dt>
<dd><p>LuckyLoop will trigger once the conditions are met</p>
<p>While set, LuckyLoop will, once the required conditions are met, pull OUT1 to 5V for one cycle (i.e. 1ms). After LuckyLoop has triggered, trigger status field is set to 0.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The effective target frequency and phase can be changed with(<a class="reference internal" href="#luckyloop.client.LuckyClient.frequency" title="luckyloop.client.LuckyClient.frequency"><code class="xref py py-meth docutils literal notranslate"><span class="pre">frequency()</span></code></a> &amp; <a class="reference internal" href="#luckyloop.client.LuckyClient.phase" title="luckyloop.client.LuckyClient.phase"><code class="xref py py-meth docutils literal notranslate"><span class="pre">phase()</span></code></a>) anytime. To prevent a racing condition, set them prior to calling <a class="reference internal" href="#luckyloop.client.LuckyClient.trigger" title="luckyloop.client.LuckyClient.trigger"><code class="xref py py-meth docutils literal notranslate"><span class="pre">trigger()</span></code></a>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can see whether LuckyLoop has triggered by calling <a class="reference internal" href="#luckyloop.client.LuckyClient.enquire" title="luckyloop.client.LuckyClient.enquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">enquire()</span></code></a> continually until the trigger status field is 0, e.g. with <code class="code docutils literal notranslate"><span class="pre">client.enquire()[&quot;trigger&quot;]</span> <span class="pre">==</span> <span class="pre">0</span></code></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="luckyloop.client.LuckyClient.trigger_method">
<em class="property">property </em><code class="sig-name descname">trigger_method</code><a class="headerlink" href="#luckyloop.client.LuckyClient.trigger_method" title="Permalink to this definition">¶</a></dt>
<dd><p>the trigger_method according to which LuckyLoop would trigger</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>trigger_method</strong> – a str with one of the following values:
- “passing”
- ‘now’
- ‘epsilon(&lt;float&gt;)’</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-luckyloop.mock"></span><div class="section" id="mockserver">
<h2>MockServer<a class="headerlink" href="#mockserver" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="luckyloop.mock.mock">
<code class="sig-name descname">mock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/luckyloop/mock.html#mock"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#luckyloop.mock.mock" title="Permalink to this definition">¶</a></dt>
<dd><p>start a mock LuckyServer for testing and development</p>
<p>either from the command line with</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>luckymock
</pre></div>
</div>
<p>or from within python with</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">luckyloop.mock</span> <span class="kn">import</span> <span class="n">mock</span>
<span class="n">server</span> <span class="o">=</span> <span class="n">mock</span><span class="p">()</span>
<span class="n">server</span><span class="o">.</span><span class="n">await_running</span><span class="p">()</span>
<span class="c1"># kill it later with server.kill()</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="application.html" class="btn btn-neutral float-right" title="Device" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to LuckyLoop’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Translational Neurosurgery

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>